#N canvas 761 328 919 650 12;
#X floatatom 29 203 10 1 10000 0 - - -, f 10;
#X floatatom 27 322 10 20 20000 0 - - -, f 10;
#X floatatom 418 321 5 0 100 0 - - -, f 5;
#X msg 29 221 time \$1;
#X msg 418 342 resonance \$1;
#X floatatom 229 203 5 0 100 0 - - -, f 5;
#X msg 600 311 just;
#X msg 652 311 12tet;
#X obj 27 360 s bub;
#X obj 29 241 s bub;
#X obj 600 344 s bub;
#X floatatom 26 439 5 0 200 0 - - -, f 5;
#X floatatom 417 438 5 0 100 0 - - -, f 5;
#X obj 26 477 s bub;
#X floatatom 226 439 5 0 50 0 - - -, f 5;
#X msg 26 457 density \$1;
#X floatatom 426 544 5 0 100 0 - - -, f 5;
#X obj 28 583 s bub;
#X msg 28 563 octave \$1;
#X msg 229 223 timeVariation \$1;
#X msg 226 459 grainSize \$1;
#X msg 417 459 grainStartVariation \$1;
#X msg 426 565 grainReversal \$1;
#X msg 228 565 octaveVariation \$1;
#X obj 32 184 hsl 128 15 1 10000 1 0 empty bub_inittime empty -2 -8
0 10 -228856 -1 -1 9272 1;
#X text 25 28 +bubbler~;
#X floatatom 227 323 5 0 200 0 - - -, f 5;
#X obj 230 304 hsl 128 15 0 200 0 0 empty bub_initfb empty -2 -8 0
10 -228856 -1 -1 0 1;
#X obj 232 184 hsl 128 15 0 100 0 0 empty bub_inittimevar empty -2
-8 0 10 -228856 -1 -1 6350 1;
#X obj 30 304 hsl 128 15 20 20000 1 0 empty bub_initfilterFreq empty
-2 -8 0 10 -228856 -1 -1 12700 1;
#X obj 421 302 hsl 128 15 1 100 0 0 empty bub_initres empty -2 -8 0
10 -228856 -1 -1 6286 1;
#X obj 229 420 hsl 128 15 0 50 0 0 empty bub_initgrainsize empty -2
-8 0 10 -228856 -1 -1 0 1;
#X obj 29 420 hsl 128 15 0 200 0 0 empty bub_initdensity empty -2 -8
0 10 -228856 -1 -1 5080 1;
#X obj 420 419 hsl 128 15 0 100 0 0 empty bub_initgvar empty -2 -8
0 10 -228856 -1 -1 0 1;
#X obj 429 525 hsl 128 15 0 100 0 0 empty bub_initgrev empty -2 -8
0 10 -228856 -1 -1 0 1;
#X msg 27 340 filterFreq \$1;
#X msg 227 342 feedback \$1;
#X obj 686 138 notein;
#X text 227 164 0 - 100%;
#X text 226 286 0 - 200%;
#X text 417 284 0 - 100%;
#X text 25 402 0 - 200%;
#X text 227 401 0 - 50%;
#X text 418 399 0 - 100%;
#X text 427 507 0 - 100%;
#X text 28 165 1 - 10000 ms (log);
#X text 24 287 20 - 20kHz (log);
#X obj 610 577 hsl 128 15 0 100 0 0 bub_delvol bub_initdelvol empty
-2 -8 0 10 -228856 -1 -1 12700 1;
#X obj 610 524 hsl 128 15 0 100 0 0 bub_dryvol bub_initdryvol empty
-2 -8 0 10 -228856 -1 -1 0 1;
#X text 606 556 Delay Volume (dB);
#X text 606 503 Dry Volume (dB);
#X obj 686 171 pack f f;
#X obj 28 523 hradio 15 1 0 9 empty bub_initoct empty 0 -8 0 10 -262144
-1 -1 4;
#X obj 28 541 - 4;
#N canvas 215 84 696 653 init 0;
#X msg 399 160 20000;
#X msg 85 356 0;
#X msg 462 130 832.6;
#X msg 509 61 50;
#X obj 115 509 s bub_initfb;
#X obj 115 463 s bub_initoctave;
#X obj 115 486 s bub_initoctvari;
#X obj 115 440 s bub_initgvar;
#X obj 115 417 s bub_initgrev;
#X msg 249 264 80;
#X msg 302 231 10;
#X obj 462 153 s bub_inittime;
#X obj 400 183 s bub_initfilterFreq;
#X obj 529 88 s bub_initres;
#X obj 529 112 s bub_inittimevar;
#X obj 302 256 s bub_initgrainsize;
#X obj 249 289 s bub_initdensity;
#X msg 355 197 1;
#X obj 355 222 s bub_but0;
#X msg 146 326 100;
#X obj 31 -8 loadbang;
#X obj 31 15 t b b b b b b b b b b;
#X obj 146 353 s bub_initdelvol;
#X obj 189 318 s bub_initdryvol;
#X msg 189 291 0;
#X obj 566 42 s bub_initoct;
#X msg 566 19 4;
#X obj 31 544 delay 300;
#X msg 120 637 \; pd dsp 1 \;;
#X text 210 582 <- <- this turns on DSP it's delayed to make <- sure
Pd is ready;
#X obj 35 639 s initbang;
#X text -131 615 Send bang to ADC after DSP is on;
#X connect 0 0 12 0;
#X connect 1 0 4 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 1 0 7 0;
#X connect 1 0 8 0;
#X connect 2 0 11 0;
#X connect 3 0 13 0;
#X connect 3 0 14 0;
#X connect 9 0 16 0;
#X connect 10 0 15 0;
#X connect 17 0 18 0;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 21 0 27 0;
#X connect 21 1 1 0;
#X connect 21 2 19 0;
#X connect 21 2 24 0;
#X connect 21 3 9 0;
#X connect 21 4 10 0;
#X connect 21 5 17 0;
#X connect 21 6 0 0;
#X connect 21 7 2 0;
#X connect 21 8 3 0;
#X connect 21 9 26 0;
#X connect 24 0 23 0;
#X connect 26 0 25 0;
#X connect 27 0 28 0;
#X connect 27 0 30 0;
#X restore 763 48 pd init;
#N canvas 79 23 1035 558 bubbler 0;
#X text 19 160 time \, feedback \, filter freq \, resonance- these
are identical in function to the same parameters in "+delay~". The
only exception is that the range of time is from 20 milliseconds to
10 seconds.;
#X text 17 233 time variation - this will select a random delay time
for each grain from time - (time vari * time) to time + (time vari
* time). This control has a range from 0% to 100%.;
#X text 15 294 density - this controls the number of grains present
at any given moment. It varies from 0% to 200%. At 100% \, grains are
created at a rate so that two grains are present (on average). This
is done because each grain is enveloped \, and it is necessary to overlap
grains for smooth audio.;
#X text 17 391 grain size - this is the size of each grain as a percentage
of the delay time. This control varies from 0% to 50%.;
#X text 521 27 g start vari - this control varies from 0% to 100%.
At 0% grains will be created at a fixed frequency (grain rate) dependent
on the grain size and density \, for synchronous granular synthesis.
When the g start vari is increased \, the grain start time will deviate
from this fixed frequency.;
#X text 519 280 grain reversal - this will randomly reverse the grain.
At 0% \, none of the grains will be reversed \, at 100% \, all of the
grains will be reversed. This is especially effective when the grain
size and delay time is large.;
#X text 522 230 octave variation - this will add a random octave pitch
shift to each grain.;
#X text 20 31 This is a granular delay. That is \, small or large bits
of sound (grains) are read from the delay \, and are recombined before
sending to the output and feedback. The grains of sound are given smooth
envelopes \, so that they can be recombined without transient distortion.
The start of the grain \, the delay in each grain \, the playback direction
and the pitch of each grain can be randomized.;
#X text 16 437 Dry/Delay volume-controls the volume of the original
signal (dry) or the delayed signal (delay);
#X text 16 480 Mix-controls the ratio of dry-delay in the output. Ranges
from 0 to 100% (0% all dry \, 100% all delay). Adjust mix \, then adjust
volumes as desired.;
#X text 17 5 +bubbler~;
#X text 522 127 pitch shift/octave - these controls give each grain
a pitch shift. Pitch shifting is controlled via MIDI input to the right
inlet \, given as a note/velocity pair. When multiple MIDI notes are
held \, the pitch shift values are randomly selected from the collection
for each grain. The octave value is added to the pitch shift.;
#X text 520 362 12tet/just - this button sets the pitch shifting to
12 tone equal temperament \, or to just intonation.;
#X restore 675 25 pd bubbler details;
#X obj 565 189 +bubbler~;
#X obj 580 156 r bub;
#N canvas 187 59 254 370 output 1;
#X obj 89 280 dac~;
#X obj 110 141 dbtorms;
#X obj 110 118 r bub_delvol;
#X obj 89 233 *~;
#X obj 37 64 inlet~;
#X msg 110 164 \$1 50;
#X obj 110 187 line~;
#X obj 214 77 inlet~;
#X obj 213 142 dbtorms;
#X obj 192 234 *~;
#X msg 213 165 \$1 50;
#X obj 213 188 line~;
#X obj 213 119 r bub_dryvol;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 0 1;
#X connect 10 0 11 0;
#X connect 11 0 9 1;
#X connect 12 0 8 0;
#X restore 487 236 pd output;
#X floatatom 757 524 5 0 100 0 - bub_dryvol -, f 5;
#X floatatom 757 577 5 0 100 0 - bub_delvol -, f 5;
#X obj 228 545 hradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 22 55 cnv 15 500 60 empty empty empty 20 12 0 14 -228856 -66577
0;
#X text 27 54 This is a delay using granular synthesis. Small clips
(grains) of audio are read and re-ordered before being sent to the
delay output. Various parameters such as playback direction and pitch
of each grain can be controlled.;
#X obj 480 136 adc~;
#N canvas 456 38 586 613 Terminal 1;
#X obj 55 102 terminal_tedium_adc, f 22;
#X msg 35 59 open;
#X obj 95 60 metro 10;
#X obj 54 22 r initbang;
#X obj 374 4 loadbang;
#X obj 374 31 delay 300;
#X msg 374 57 \; pd dsp 1 \;;
#X obj 289 59 s initbang;
#X text 272 89 Send bang to ADC after DSP is on;
#X obj 53 582 s cv1;
#X obj 53 530 clip 0 3400;
#X obj 52 554 expr (($f1 / 3400) * 127);
#X obj 65 447 clip 0 3400;
#X obj 64 471 expr (($f1 / 3400) * 127);
#X obj 85 374 clip 0 3400;
#X obj 84 398 expr (($f1 / 3400) * 127);
#X obj 101 301 clip 0 3400;
#X obj 100 325 expr (($f1 / 3400) * 127);
#X obj 117 226 clip 0 3400;
#X obj 116 250 expr (($f1 / 3400) * 127);
#X obj 135 149 clip 0 3400;
#X obj 259 205 expr (($f1 / 3400) * 127);
#X obj 65 499 s cv2;
#X obj 84 420 s cv3;
#X obj 101 350 s cv4;
#X obj 117 278 s cv5;
#X obj 135 201 s cv6;
#X obj 333 407 expr (($f1 / 3400) * 127);
#X floatatom 335 347 5 0 0 0 - - -, f 5;
#X floatatom 331 490 5 0 0 0 - - -, f 5;
#X connect 0 0 10 0;
#X connect 0 1 12 0;
#X connect 0 2 14 0;
#X connect 0 3 16 0;
#X connect 0 4 18 0;
#X connect 0 5 20 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 12 0 13 0;
#X connect 13 0 22 0;
#X connect 14 0 15 0;
#X connect 15 0 23 0;
#X connect 16 0 17 0;
#X connect 17 0 24 0;
#X connect 18 0 19 0;
#X connect 19 0 25 0;
#X connect 20 0 21 0;
#X connect 21 0 26 0;
#X connect 27 0 29 0;
#X connect 28 0 27 0;
#X restore 675 253 pd Terminal Tedium IO;
#X connect 0 0 3 0;
#X connect 1 0 35 0;
#X connect 2 0 4 0;
#X connect 3 0 9 0;
#X connect 4 0 8 0;
#X connect 5 0 19 0;
#X connect 6 0 10 0;
#X connect 7 0 10 0;
#X connect 11 0 15 0;
#X connect 12 0 21 0;
#X connect 14 0 20 0;
#X connect 15 0 13 0;
#X connect 16 0 22 0;
#X connect 18 0 17 0;
#X connect 19 0 9 0;
#X connect 20 0 13 0;
#X connect 21 0 13 0;
#X connect 22 0 17 0;
#X connect 23 0 17 0;
#X connect 24 0 0 0;
#X connect 26 0 36 0;
#X connect 27 0 26 0;
#X connect 28 0 5 0;
#X connect 29 0 1 0;
#X connect 30 0 2 0;
#X connect 31 0 14 0;
#X connect 32 0 11 0;
#X connect 33 0 12 0;
#X connect 34 0 16 0;
#X connect 35 0 8 0;
#X connect 36 0 8 0;
#X connect 37 0 51 0;
#X connect 37 1 51 1;
#X connect 51 0 56 1;
#X connect 52 0 53 0;
#X connect 53 0 18 0;
#X connect 56 0 58 0;
#X connect 57 0 56 0;
#X connect 61 0 23 0;
#X connect 64 0 56 0;
#X connect 64 0 58 1;
